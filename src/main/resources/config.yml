# Craft of Legends configuration
# This file controls how the plugin loads champions, abilities, cooldown rules, party behavior,
# and which database backend to use. Every option is documented with suggested defaults.

server:
  # Mode determines how the plugin talks to the server platform.
  # - paper: standard single-server Paper/Spigot installation
  # - bungeecord: cross-server deployment with shared data and messaging
  mode: paper
  locale: en_us
  debug: false

# Database selection and credentials.
database:
  # Options: sqlite, mysql, mariadb, postgres, json, yaml
  provider: sqlite
  # SQLite keeps everything local to the server. Great for testing or small servers.
  sqlite:
    file: plugins/CraftOfLegends/data.db
  # JSON/YAML store state per server; best for single-node or dev testing.
  json:
    file: plugins/CraftOfLegends/data.json
    pretty_print: true
  yaml:
    file: plugins/CraftOfLegends/data.yaml
  # MySQL/MariaDB share progression across multiple servers. Enable connection pooling for Bungeecord.
  mysql:
    host: localhost
    port: 3306
    database: craft_of_legends
    user: craft_admin
    password: change_me
    use_ssl: false
    connection_pool:
      max_pool_size: 10
      min_idle: 2
      max_lifetime_seconds: 1800
  mariadb:
    host: localhost
    port: 3306
    database: craft_of_legends
    user: craft_admin
    password: change_me
    use_ssl: false
    connection_pool:
      max_pool_size: 10
      min_idle: 2
      max_lifetime_seconds: 1800
  postgres:
    host: localhost
    port: 5432
    database: craft_of_legends
    user: craft_admin
    password: change_me
    schema: public
    use_ssl: false
    connection_pool:
      max_pool_size: 10
      min_idle: 2
      max_lifetime_seconds: 1800

# How players form squads and sync across servers.
parties:
  max_size: 5
  friendly_fire: false
  invite_timeout_seconds: 60
  leader_only_start: true
  default_privacy: INVITE_ONLY # INVITE_ONLY, OPEN, CLOSED
  allow_cross_server_sync: true
  # When Bungeecord is enabled, parties can sync via messaging.
  bungeecord_channel: craft-of-legends
  share_experience: true
  share_objectives: true
  friends:
    enabled: true
    max_friends: 200
    allow_cross_server_invites: true
    data_file: samples/social.yml

# Champion data loading and defaults.
champions:
  # Path inside the plugin JAR or the plugins/CraftOfLegends folder.
  data_file: samples/champions.yml
  # Default champions unlocked for new players.
  starter_unlocks:
    - garen
    - ashe
    - lux
  allow_duplicate_roles: false
  fallback_loadout: classic
  respawn_cooldown_seconds: 15
  health_scaling:
    per_level: 95
    per_star: 120
  power_scaling:
    ability_power_per_level: 7
    attack_damage_per_level: 6
  # Cosmetic toggles for champions.
  cosmetics:
    enable_role_icons: true
    allow_custom_resource_packs: true
    particles_on_ultimate: true

# Structures that define lane objectives and PvE threats.
map:
  inhibitors:
    enabled: true
    respawn_minutes: 5
    buff_on_destruction: super_minions
    data_file: samples/map.yml
  turrets:
    enabled: true
    aggro_radius_blocks: 20
    target_switch_cooldown_seconds: 3
    damage_scaling_per_minute: 0.02
  nexus:
    explosion_effect: true
    victory_message: "Team %team% has destroyed the nexus!"

# Waves of AI minions that push lanes.
minions:
  enabled: true
  spawn_interval_seconds: 30
  initial_delay_seconds: 90
  per_wave:
    melee: 3
    caster: 3
    cannon_every_n_waves: 3
  scaling:
    health_per_minute: 25
    damage_per_minute: 4
  behaviors:
    focus_low_health_first: true
    switch_to_turret_when_in_range: true
  data_file: samples/map.yml

# Neutral monsters such as Baron/Dragon-style objectives.
monsters:
  enabled: true
  data_file: samples/monsters.yml
  respawn_minutes:
    epic: 6
    camp: 2.5
  announce_spawns: true

# Items and shop configuration.
items:
  data_file: samples/items.yml
  # Global item rules
  max_active_items: 6
  allow_elixirs: true
  allow_consumables: true
  recipe_validation: strict

shop:
  enabled: true
  command_aliases:
    - shop
    - itemshop
  open_on_spawn: true
  require_safe_zone: true
  menu_title: "League Shop"
  currency: gold
  data_file: samples/shop.yml

# Quest systems (daily, weekly, seasonal).
quests:
  enabled: true
  data_file: samples/quests.yml
  cooldowns:
    daily_reset_hour_utc: 0
    weekly_reset_weekday: MONDAY
  notify_on_completion: true

# Message templates and colors for feedback to players.
messages:
  data_file: samples/messages.yml
  use_legacy_colors: false
  prefix: "&6[CraftOfLegends]&r"
  show_cross_server_announcements: true

# Keyboard control hints (for clients using key-binding mods or prompts).
controls:
  data_file: samples/controls.yml
  show_tooltips: true
  hotkeys:
    ability_q: "Q"
    ability_w: "W"
    ability_e: "E"
    ability_r: "R"
    item_1: "1"
    item_2: "2"
    item_3: "3"
    item_4: "4"
    item_5: "5"
    item_6: "6"
    recall: "B"
    shop: "P"
    scoreboard: "Tab"

# Admin command settings and permissions.
admin:
  command_aliases:
    reload: ["colreload", "craftlegendsreload"]
    give_champion: ["colgivechamp", "colgc"]
    force_start: ["colstart"]
    end_game: ["colend"]
  allow_command_block_execution: false
  broadcast_admin_actions: true
  default_permissions:
    reload: craftoflegends.admin.reload
    give_champion: craftoflegends.admin.give
    force_start: craftoflegends.admin.force
    end_game: craftoflegends.admin.end

# Player-facing options for gameplay pacing and UI.
player_options:
  default_camera_mode: third_person
  show_damage_indicators: true
  damage_indicator_color: "#ff4444"
  show_particle_effects: true
  show_floating_combat_text: true
  allow_message_opt_out: true
  announce_daily_quests: true

# Ability presets that champions can reference.
abilities:
  global_cooldown_seconds: 0.25
  allow_channel_interrupts: true
  energy_types:
    mana:
      base_regen_per_second: 8
      max_value: 100
    energy:
      base_regen_per_second: 10
      max_value: 100
    fury:
      base_regen_per_second: 0
      max_value: 100
  cooldown_rules:
    offline_progress: true
    max_reduction_percent: 40
    reduction_sources:
      items: true
      runes: true
      party_buffs: true
  presets:
    garen_q:
      name: Decisive Strike
      type: dash
      cost:
        mana: 30
      cooldown_seconds: 8
      range_blocks: 6
      scaling:
        attack_damage_ratio: 1.0
      effects:
        - silence: 1.5
        - speed_boost_percent: 30
    garen_e:
      name: Judgment
      type: spin
      cost:
        mana: 0
      cooldown_seconds: 9
      duration_seconds: 3
      scaling:
        attack_damage_ratio: 0.45
      effects:
        - aoe_slash: 4
    garen_r:
      name: Demacian Justice
      type: execute
      cost:
        mana: 100
      cooldown_seconds: 120
      range_blocks: 6
      scaling:
        missing_health_ratio: 0.25
      effects:
        - true_damage_execute: true
    ashe_r:
      name: Enchanted Crystal Arrow
      type: projectile
      cost:
        mana: 100
      cooldown_seconds: 100
      range_blocks: 60
      scaling:
        ability_power_ratio: 0.9
      effects:
        - stun_seconds: 3
        - slow_percent: 30

# Global cooldown modifiers and timers for various systems.
cooldowns:
  recall_seconds: 8
  teleport_seconds: 4
  surrender_vote_cooldown_seconds: 180
  ranked_retry_cooldown_seconds: 300
  party_invite_cooldown_seconds: 10
  # Adjust champion and ability cooldowns with scaling tables.
  scaling:
    champion_level:
      1: 1.0
      5: 0.95
      10: 0.9
      15: 0.85
    party_size_bonus:
      2: -0.02
      3: -0.03
      4: -0.04
      5: -0.05

# Logging and telemetry.
metrics:
  enabled: true
  broadcast_load_times: false
  anonymize_player_ids: true

# If running Bungeecord/Velocity, configure messaging and shared storage here.
bungeecord:
  enabled: false
  messaging_channel: craft-of-legends
  announce_server_name: true
  sync_cooldown_progress: true
  sync_party_state: true
